<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <title>üé¨ Veo Video Generator</title>
  <style>
    body { font-family: sans-serif; max-width: 600px; margin: auto; }
    label { display: block; margin-top: 10px; }
    textarea, input, select { width: 100%; padding: 6px; margin-top: 4px; }
    button { margin-top: 15px; padding: 10px; cursor: pointer; }
    .status { margin-top: 15px; font-weight: bold; color: darkblue; }
    video { margin-top: 20px; width: 100%; border: 1px solid #ccc; }
  </style>
</head>
<body>
  <h2>üé¨ Veo Video Generator</h2>

  <label>API Key Gemini:</label>
  <input type="text" id="apiKey" placeholder="Masukkan API Key di sini" />

  <label>Pilih Model:</label>
  <select id="model">
    <option value="veo-2.0-generate-001">veo-2.0-generate-001</option>
    <option value="veo-3.0-generate-001">veo-3.0-generate-001</option>
    <option value="veo-3.0-fast-generate-001">veo-3.0-fast-generate-001</option>
    <option value="veo-3.0-generate-preview">veo-3.0-generate-preview</option>
    <option value="veo-3.0-fast-generate-preview">veo-3.0-fast-generate-preview</option>
  </select>

  <label>Prompt:</label>
  <textarea id="prompt" rows="4" placeholder="Deskripsikan video..."></textarea>

  <label>Durasi (detik):</label>
  <input type="number" id="duration" value="8" />

  <label>Aspect Ratio:</label>
  <select id="ratio">
    <option value="16:9">16:9</option>
    <option value="9:16">9:16</option>
    <option value="1:1">1:1</option>
  </select>

  <label>Resolusi:</label>
  <select id="resolution">
    <option value="720p">720p</option>
    <option value="1080p" selected>1080p</option>
    <option value="4k">4K</option>
  </select>

  <button onclick="generateVideo()">üöÄ Generate Video</button>

  <div id="status" class="status"></div>
  <video id="video" controls></video>

  <script>
    async function generateVideo() {
      const apiKey = document.getElementById("apiKey").value.trim();
      const prompt = document.getElementById("prompt").value.trim();
      const duration = parseInt(document.getElementById("duration").value);
      const ratio = document.getElementById("ratio").value;
      const resolution = document.getElementById("resolution").value;
      const model = document.getElementById("model").value;
      const statusDiv = document.getElementById("status");
      const videoEl = document.getElementById("video");

      if (!apiKey || !prompt) {
        alert("Isi API Key dan Prompt dulu!");
        return;
      }

      statusDiv.textContent = "üöÄ Mengirim permintaan...";
      videoEl.src = "";

      try {
        const res = await fetch(
          `https://generativelanguage.googleapis.com/v1beta/models/${model}:predict?key=${apiKey}`,
          {
            method: "POST",
            headers: { "Content-Type": "application/json" },
            body: JSON.stringify({
              instances: [{ prompt: prompt }],
              parameters: {
                durationSeconds: duration,
                aspectRatio: ratio,
                resolution: resolution
              }
            })
          }
        );

        const data = await res.json();
        if (data.error) throw new Error(JSON.stringify(data.error));

        statusDiv.textContent = "‚úÖ Video berhasil digenerate!";
        videoEl.src = data.videoUrl || "";
      } catch (err) {
        console.error(err);
        statusDiv.textContent = "‚ùå Gagal: " + err.message;
      }
    }
  </script>
</body>
</html>